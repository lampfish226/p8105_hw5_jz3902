p8105_hw5_jz3902
================
Jinghan Zhao
2024-11-09

## Problem 1

``` r
bdays_sim = function(n){

  bdays = sample(1:365, size = n, replace = TRUE)
  
  duplicate = length(unique(bdays)) < n

  return(duplicate)
  
}
```

``` r
bdays_sim_result = 
  expand_grid(
    n = 2:50,
    iter = 1:10000
  ) %>% 
  mutate(result = map_lgl(n, bdays_sim)) %>% 
  group_by(n) %>% 
  summarize(prob = mean(result))

bdays_sim_result %>% 
  ggplot(aes(x = n, y = prob)) +
  geom_line() +
  labs(
    title = "Birthday problem",
    x = "Group size",
    y = "Probability",
    caption = "The probability that at least two people in the group will share a birthday.")
```

<img src="p8105_hw5_jz3902_files/figure-gfm/bdays_sim-1.png" width="90%" />

After 10,000 simulations for each group size, the plot of probability vs
group size is close to a curve. When the group size exceeds 23, the
probability that at least two people in the group will share the same
birthday becomes greater than 50%.

## Problem 2

### Function

``` r
t_sim = function(samp_size = 30, true_mean, true_sd = 5) {
  
  sim_df = 
    tibble(
    x = rnorm(samp_size, true_mean, true_sd)
  )
  
  out_df = 
    sim_df %>% 
    t.test() %>% 
    broom::tidy() %>% 
    select(estimate, p.value) %>% 
    mutate(reject_or_not = p.value < 0.05)
    
  return(out_df)
  
}
```

### For $\mu = 0$

``` r
t_mu0_result = 
  expand_grid(
    true_mean = 0,
    iter = 1:5000
    ) %>% 
  mutate(
    output = map(true_mean, \(x) t_sim(true_mean = x))
    ) %>% 
  unnest(output)

head(t_mu0_result)
```

    ## # A tibble: 6 Ã— 5
    ##   true_mean  iter estimate p.value reject_or_not
    ##       <dbl> <int>    <dbl>   <dbl> <lgl>        
    ## 1         0     1   -0.887   0.165 FALSE        
    ## 2         0     2   -0.772   0.393 FALSE        
    ## 3         0     3    0.357   0.653 FALSE        
    ## 4         0     4    1.29    0.223 FALSE        
    ## 5         0     5    0.989   0.279 FALSE        
    ## 6         0     6   -1.18    0.252 FALSE

### For $\mu = {1,2,3,4,5,6}$

``` r
t_repeat_result = 
  expand_grid(
    true_mean = c(1:6),
    iter = 1:5000
    ) %>% 
  mutate(
    output = map(true_mean, \(x) t_sim(true_mean = x))
    ) %>% 
  unnest(output)
```
